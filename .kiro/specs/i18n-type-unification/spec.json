{
  "feature_name": "i18n-type-unification",
  "created_at": "2025-01-12T04:55:00+09:00",
  "updated_at": "2025-01-12T06:10:00+09:00",
  "language": "ja",
  "phase": "tasks-generated",
  "source": {
    "type": "github_issue",
    "issue_number": 131,
    "url": "https://github.com/ef-tech/laravel-next-b2c/issues/131",
    "title": "i18n型定義統一（User App/Admin AppのvalidLocale型を統一）",
    "labels": ["enhancement", "frontend"],
    "milestone": null,
    "assignees": []
  },
  "extracted_info": {
    "tech_stack": {
      "backend": "なし（フロントエンド専用タスク）",
      "frontend": "TypeScript ^5, Next.js 15.5.4, next-intl ^4.4.0, Node.js 20.x",
      "infrastructure": "Docker（E2Eテスト環境）, GitHub Actions（CI/CD）",
      "tools": "npm, TypeScript Compiler, ESLint, Jest, Playwright（E2Eテスト）"
    },
    "requirements_hints": [
      "User AppとAdmin Appの`validLocale`型定義を統一する（現状: User App=`Locale`厳密型、Admin App=`string`型）",
      "next-intl公式型定義（`RequestConfig.locale: string`）との整合性を確保する",
      "Option A推奨: Admin Appの`string`型に統一（next-intl準拠）、User App `i18n.ts`を変更",
      "TypeScript型チェック、本番ビルド検証、単体テスト、E2Eテスト、CI/CD自動検証を実施",
      "PR #129へのフィードバックとして対応完了を報告する"
    ],
    "project_structure": [
      "frontend/lib/i18n-config.ts（共通i18n設定）",
      "frontend/user-app/src/i18n.ts（変更対象）",
      "frontend/admin-app/src/i18n.ts（参照実装）",
      ".github/workflows/frontend-test.yml（CI/CD設定）"
    ],
    "services": {
      "user-app": {"port": "13001"},
      "admin-app": {"port": "13002"},
      "laravel-api": {"port": "13000"}
    },
    "todo_items": [
      "User App `i18n.ts` の型定義変更（`Locale` → `string`）",
      "Admin App `i18n.ts` との実装比較と一貫性確認",
      "共通i18n設定（`frontend/lib/i18n-config.ts`）の確認",
      "TypeScript型チェック実行（`npm run type-check`）",
      "本番ビルド検証（Admin App: `npm run build`, User App: `npm run build`）",
      "フロントエンド単体テスト実行（`npm test`, `npm run test:admin`, `npm run test:user`）",
      "E2Eテスト実行（Docker環境: `make dev`, `npm run test:e2e`）",
      "ロケール切替動作確認（ja/en/invalid）",
      "GitHub Actions実行確認（lint, test, build全ジョブGreen）",
      "PR #129 へのフィードバック（対応完了報告）"
    ]
  },
  "approvals": {
    "requirements": {
      "generated": true,
      "approved": true
    },
    "design": {
      "generated": true,
      "approved": true
    },
    "tasks": {
      "generated": true,
      "approved": false
    }
  },
  "ready_for_implementation": false
}
